<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pokemon Fetch</title>
  <style>
    .pokemon {
      border: 1px solid #ccc;
      padding: 10px;
      margin: 5px;
    }
  </style>
</head>

<body>
  <div id="pokeContainer">Pokemon Fetch Example</div>

  <script>
    const pokeContainer = document.getElementById("pokeContainer");

    async function fetchPokemon() {
      try {
        // Fetch the list of Pokemon
        const response = await fetch("https://pokeapi.co/api/v2/pokemon?limit=10");
        const data = await response.json();
        console.log(data)
        const arrayOfPokemons = data.results
        //.filter(p => p.name === "bulbasaur");

        // Clear the container
        pokeContainer.innerHTML = "";

        // Fetch each Pokemon's details and add to page
        for (const pokemon of arrayOfPokemons) {
          const res = await fetch(pokemon.url);
          const pokeData = await res.json();
          //console.log("Specific pokemon data", pokeData);

          // Create elements
          const div = document.createElement("div");
          const img = document.createElement("img");
          const name = document.createElement("p");
          const weight = document.createElement("p");

          // Set content
          div.className = "pokemon";
          img.src = pokeData.sprites.front_default;
          img.alt = pokemon.name;
          name.textContent = pokemon.name;
          weight.textContent = pokeData.weight;

          // Add to page
          div.appendChild(img);
          div.appendChild(name);
          div.appendChild(weight);
          pokeContainer.appendChild(div);
        }
      } catch (error) {
        console.error("Error fetching Pokemon:", error);
      }
    }

    fetchPokemon();
  </script>
</body>

</html>